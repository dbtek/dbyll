I"6æ<p><br /><br /></p>

<h1 id="ìŠ¤í”„ë§ë¶€íŠ¸ë¡œ-ì¼ì¼-í™•ì§„ì-ê·¸ë˜í”„-ë§Œë“¤ê¸°-02"><center>ìŠ¤í”„ë§ë¶€íŠ¸ë¡œ ì¼ì¼ í™•ì§„ì ê·¸ë˜í”„ ë§Œë“¤ê¸°-02</center></h1>

<p><br /><br /></p>

<p>ì €ë²ˆ ê²Œì‹œë¬¼ì—ì„œëŠ” csv íŒŒì¼ì„ íŒŒì‹±í•´ì„œ Highchartì˜ line graphë¡œ í‘œì‹œí•˜ëŠ” ê²ƒì„ í•´ë´¤ë‹¤. ì´ë²ˆ ê²Œì‹œë¬¼ì—ì„œëŠ” csvë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìš°ë¦¬ ë‚˜ë¼ ê³µê³µ ë°ì´í„° ì‚¬ì´íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” APIë¥¼ ì‚¬ìš©í•´ì„œ Highchartì™€ ì—°ë™ì„ í•´ë³´ë ¤ í•œë‹¤. ìš°ì„  ê³µê³µë°ì´í„° í¬íƒˆ ì‚¬ì´íŠ¸ì— ì ‘ì†í•´ì„œ ì•Œë§ì€ ë°ì´í„°ë¥¼ ì°¾ëŠ”ë‹¤.</p>

<p><strong><a href="https://www.data.go.kr/">ê³µê³µë°ì´í„°í¬í„¸</a></strong></p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-14-00-02.png" alt="" /></p>

<p><br /></p>

<p>íšŒì›ê°€ì…ì„ í•˜ê³  ë¡œê·¸ì¸ í›„ ì—¬ê¸°ì„œ ê²€ìƒ‰ì°½ì— ì½”ë¡œë‚˜ë¼ê³  ê²€ìƒ‰í•œë‹¤. ê²€ìƒ‰í•´ì„œ ìŠ¤í¬ë¡¤ì„ ë‚´ë¦¬ë‹¤ë³´ë©´ <strong>ì˜¤í”ˆ API</strong>ë¼ê³  í•­ëª©ì´ ë³´ì´ë©° ê·¸ ëª©ë¡ ì¤‘ì— <strong>ë³´ê±´ë³µì§€ë¶€<em>ì½”ë¡œë‚˜19 ê°ì—¼</em>í˜„í™©</strong>ì´ë¼ê³  ë˜ì–´ ìˆëŠ” ë¶€ë¶„ì´ ìˆë‹¤. ê·¸ê²ƒì„ í´ë¦­í•œë‹¤.</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-14-03-48.png" alt="" /></p>

<p><br /></p>

<p>ë“¤ì–´ì˜¤ê²Œ ë˜ë©´ ì•„ë˜ ì‚¬ì§„ì—ì„œ ì˜¤ë¥¸ìª½ì— í™œìš©ì‹ ì²­ ë²„íŠ¼ì´ ìˆë‹¤. ê·¸ê²ƒì„ ëˆ„ë¥´ì.</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-14-04-42.png" alt="" /></p>

<p><br /></p>

<p>ëˆŒëŸ¬ì„œ ìŠ¹ì¸ì„ ë°›ê²Œë˜ë©´ ì¼ë°˜ ì¸ì¦í‚¤ë¥¼ ë°œê¸‰í•´ ì¤€ë‹¤. ì´ê²ƒì´ ë°”ë¡œ ì„œë¹„ìŠ¤ í‚¤ì´ë‹¤. ì´ í‚¤ë¥¼ ì˜ ë³´ê´€í•´ ë‘”ë‹¤. ì´ ì„œë¹„ìŠ¤í‚¤ëŠ” ë‚˜ì¤‘ì— ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ ì“°ê²Œ ëœë‹¤. ì ì´ì œ ì¸í…”ë¦¬ì œì´ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ ë³´ì.</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-14-21-57.png" alt="" /></p>

<p><br /></p>

<p>ì˜ì¡´ì„±ìœ¼ë¡œëŠ”</p>

<ul>
  <li>Thymeleaf</li>
  <li>Spring Boot DevTools</li>
  <li>Lombok</li>
  <li>Spring Web</li>
</ul>

<p>ì„ ì„¤ì •í•œë‹¤.</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-14-22-30.png" alt="" /></p>

<p><br /></p>

<p>ì´ì œ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ íŒ¨í‚¤ì§€ì™€ ìë°” íŒŒì¼ì„ ë§Œë“ ë‹¤.</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-14-25-16.png" alt="" /></p>

<p><br /></p>

<p>ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì „ì— ì´ APIë¥¼ ì¢€ ë” ìì„¸íˆ ì‚´í´ë³´ì. ë‹¤ì‹œ ìš°ë¦¬ê°€ í´ë¦­í–ˆë˜ <strong>ë³´ê±´ë³µì§€ë¶€<em>ì½”ë¡œë‚˜19 ê°ì—¼</em>í˜„í™©</strong>ì— ë“¤ì–´ê°€ì„œ ìŠ¤í¬ë¡¤ì„ ì œì¼ ì•„ë˜ê¹Œì§€ ë‚´ë¦¬ë©´ ê° í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë³„ë¡œ ìƒ˜í”Œ ì½”ë“œë¥¼ ë³¼ ìˆ˜ê°€ ìˆë‹¤.</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-14-26-28.png" alt="" /></p>

<p><br /></p>

<p>ìš°ë¦¬ê°€ ì‚´í´ë³¼ ì–¸ì–´ëŠ” Java ì´ë¯€ë¡œ í´ë¦­í•´ì„œ ë³µì‚¬í•˜ê³  ìš°ë¦¬ê°€ ìƒì„±í•œ ìë°” íŒŒì¼ì— ë¶™ì—¬ë„£ê¸°ë¥¼ í•´ì¤€ë‹¤. ë¶™ì—¬ë„£ê¸° í•  ë•ŒëŠ” í´ë˜ìŠ¤ ì´ë¦„ì„ ë³€ê²½í•´ì¤€ë‹¤.</p>

<p><strong>CoronaVirusDataService.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">org.techlead.public_api_highcahrt.service</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URLEncoder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CoronaVirusDataService</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="nc">StringBuilder</span> <span class="n">urlBuilder</span> <span class="o">=</span>
        <span class="k">new</span> <span class="nf">StringBuilder</span><span class="o">(</span><span class="s">"http://openapi.data.go.kr/openapi/service/"</span><span class="o">+</span>
        <span class="s">"rest/Covid19/getCovid19InfStateJson"</span><span class="o">);</span> <span class="cm">/*URL*/</span>
        <span class="cm">/*Service Key*/</span>
        <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"?"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"ServiceKey"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span>
        <span class="s">"=P1wWeheZvhyl1CtYk8BFcVLbUl2Z"</span><span class="o">+</span>
        <span class="s">"JdoRsu1COpnHeAFmIaLOdBHSmEh1EDLZI~~~~~~~~"</span><span class="o">);</span>
       <span class="cm">/*ê³µê³µë°ì´í„°í¬í„¸ì—ì„œ ë°›ì€ ì¸ì¦í‚¤*/</span>
        <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"ServiceKey"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span> <span class="s">"="</span> <span class="o">+</span>
        <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"P1wWeheZvhyl1CtYk8BFcVLbUl2ZJ"</span><span class="o">+</span><span class="s">"
        doRsu1COpnHeAFmIaLOdBHSmEh1EDLZI~~~~~~~~"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span>

        <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"pageNo"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span> <span class="s">"="</span>
        <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"1"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span> <span class="cm">/*í˜ì´ì§€ë²ˆí˜¸*/</span>
        <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"numOfRows"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span> <span class="s">"="</span>
        <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"10"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span> <span class="cm">/*í•œ í˜ì´ì§€ ê²°ê³¼ ìˆ˜*/</span>
        <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"startCreateDt"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span> <span class="s">"="</span>
        <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"20200310"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span> <span class="cm">/*ê²€ìƒ‰í•  ìƒì„±ì¼ ë²”ìœ„ì˜ ì‹œì‘*/</span>
        <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"endCreateDt"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span> <span class="s">"="</span>
        <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"20200315"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span> <span class="cm">/*ê²€ìƒ‰í•  ìƒì„±ì¼ ë²”ìœ„ì˜ ì¢…ë£Œ*/</span>


        <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="n">urlBuilder</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="nc">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Response code: "</span> <span class="o">+</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">());</span>
        <span class="nc">BufferedReader</span> <span class="n">rd</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">200</span> <span class="o">&amp;&amp;</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">300</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">rd</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">rd</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">()));</span>
        <span class="o">}</span>
        <span class="nc">StringBuilder</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">line</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">((</span><span class="n">line</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">rd</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê²ƒì€ ì•„ê¹Œ ìš°ë¦¬ê°€ ë°œê¸‰ë°›ì€ ì¸ì¦í‚¤ë¥¼ ë„£ì–´ì¤˜ì•¼ í•œë‹¤. ì´ 2êµ°ëŒ€ë¥¼ ë„£ì–´ì¤˜ì•¼ í•˜ëŠ”ë° ë°”ë¡œ line 17ê³¼ line 22 ë¶€ë¶„ì´ë‹¤. ê·¸ëŸ°ë° line 17ì— ë„£ì„ ë• ì• ë¬¸ìì—´ â€˜=â€™ë¥¼ ì¶”ê°€í•œì²´ë¡œ ì•ì—ë‹¤ê°€ ì´ì–´ì„œ ë„£ì–´ì¤€ë‹¤. ì§€ê¸ˆ ë‚´ê°€ ì ì€ ì½”ë“œë¥¼ ë³´ë©´ ì“¸ë°ì—†ì´ ê¸´ ì¸ì¦í‚¤ë¥¼ ë¶„í•´í•´ì„œ â€œâ€+â€â€ ì‹ìœ¼ë¡œ ì´ì–´ ë¶™ì´ê³  ìˆëŠ”ë° ì´ëŠ” ì‹¤ì œë¡œëŠ” ë¶ˆí•„ìš”í•˜ë©° ë‚´ê°€ í•˜ëŠ” ì´ìœ ëŠ” ì½”ë“œì˜ í•œ ì¤„ ê¸¸ì´ê°€ ê¸¸ì–´ì§€ë©´ ì´ ì½”ë“œ ë¸”ëŸ­ì—ì„œ ì—ëŸ¬ê°€ ë‚˜ê¸° ë•Œë¬¸ì— ì¼ë¶€ë¡œ ì¤„ ê¸¸ì´ë¥¼ ì§§ê²Œ ë§Œë“¤ê¸° ìœ„í•¨ì´ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë‚˜ì²˜ëŸ¼ ë¶„í•´í•˜ì§€ ì•Šê³  ê·¸ëƒ¥ ë¶™ì—¬ë„£ê¸° í•˜ë©´ ëœë‹¤.
ì½”ë“œë¥¼ ì •ìƒì ìœ¼ë¡œ ë¶™ì—¬ë„£ê¸° í–ˆìœ¼ë©´ ì½”ë“œ ë°”ë¡œ ì™¼ìª½ì˜ ì´ˆë¡ìƒ‰ í”Œë ˆì´ ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ì‹¤í–‰ì‹œì¼œë³¸ë‹¤. (ë‘˜ ì¤‘ì— ì–´ëŠ ê²ƒì„ ëˆŒëŸ¬ë„ ê²°ê³¼ëŠ” ë˜‘ê°™ë‹¤.)</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-14-31-58.png" alt="" /></p>

<p><br /></p>

<p>ê·¸ë¦¬ê³  ì¶œë ¥ëœ ê²ƒì„ ë³´ë©´ í•œì¤„ë¡œ ê¸¸ê²Œ xml í˜•ì‹ìœ¼ë¡œ ì •ë³´ê°€ ë‚˜ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ê°€ ìˆë‹¤.</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-14-41-25.png" alt="" /></p>

<p>ìŠ¤í¬ë¡¤ì„ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë°€ë‹¤ë³´ë©´ xml í˜•íƒœë¡œ 2020ë…„ 3ì›” 10ì¼ë¶€í„° 2020ë…„ 3ì›” 15ì¼ê¹Œì§€ì˜ ì½”ë¡œë‚˜ í˜„í™©ì„ ë³´ì—¬ì£¼ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ë§Œì•½ ìµœê·¼ ì½”ë¡œë‚˜ í˜„í™©ì„ ë³´ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ? ë°”ë¡œ ì½”ë“œì—ì„œ ë‚ ì§œë¥¼ ë°”ê¿”ì£¼ë©´ ëœë‹¤.</p>

<p><strong>CoronaVirusDataService.javaì˜ ì¼ë¶€</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="o">(...)</span>
 <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"startCreateDt"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span>
  <span class="s">"="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"20200310"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span> <span class="cm">/*ê²€ìƒ‰í•  ìƒì„±ì¼ ë²”ìœ„ì˜ ì‹œì‘*/</span>
 <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"endCreateDt"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span>
 <span class="s">"="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"20200315"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span> <span class="cm">/*ê²€ìƒ‰í•  ìƒì„±ì¼ ë²”ìœ„ì˜ ì¢…ë£Œ*/</span>
<span class="o">(...)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<p>ìœ„ ì½”ë“œì—ì„œ ë‚ ì§œ ë¬¸ìì—´ì„ ë°”ê¾¸ê²Œ ë˜ë©´ ê·¸ ì‹œì‘ì¼ë¶€í„° ì¢…ë£Œì¼ê¹Œì§€ì˜ ì½”ë¡œë‚˜ í˜„í™©ì´ xml í˜•íƒœë¡œ ì¶œë ¥ëœë‹¤. ë¨¼ì € ìš°ë¦¬ê°€ í•´ì•¼í•  ê±´ ì´ ë‚ ì§œê°€ ì‹œê°„ì— íë¦„ì— ë”°ë¼ ìœ ë™ì ìœ¼ë¡œ ë°”ë€” ìˆ˜ ìˆê²Œ í•´ì•¼ í•œë‹¤. ë‹¨ìˆœíˆ ì €ëŸ° ì‹ìœ¼ë¡œ ìµœê·¼ ë‚ ì§œ ë¬¸ìì—´ì„ ë„£ì–´ë‘ë©´ ë°ì´í„°ëŠ” ë”ì´ìƒì˜ ì—…ë°ì´íŠ¸ê°€ ì—†ì„ ê²ƒì´ë‹¤. ìš°ë¦¬ê°€ Highchartì— ì—°ë™í•  ë•ŒëŠ” í˜„ì¬ ë‚ ì§œë¡œë¶€í„° 10ì¼ì „ê¹Œì§€ë§Œ ê·¸ë˜í”„ì— í‘œì‹œí•  ê²ƒì„ìœ¼ë¡œ ìš°ë¦¬ëŠ” ë‚´ì¼ì´ ì§€ë‚˜ë„, ë‚´ì¼ ëª¨ë ˆê°€ ì§€ë‚˜ë„ ê³„ì† ì €ì ˆë¡œ í˜„ì¬ë¡œë¶€í„° 10ì¼ì „ ê·¸ë˜í”„ê°€ ë³´ì—¬ì§€ë„ë¡ í•´ì•¼ í•œë‹¤.</p>

<p>ê·¸ë˜ì„œ ì°¾ì€ í•´ê²°ì±…ì´ ë°”ë¡œ LocalDateTime ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ìë°” íŒŒì¼ì— ë©”ì†Œë“œë¥¼ ì¶”ê°€í•˜ì. ê·¸ë¦¬ê³  ê²€ìƒ‰í•  ìƒì„±ì¼ ë²”ìœ„ì˜ ì‹œì‘ê³¼ ê²€ìƒ‰í•  ìƒì„±ì¼ ë²”ìœ„ì˜ ì¢…ë£Œ ë¶€ë¶„ì— ê·¸ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ ì¤€ë‹¤.</p>

<p><strong>CoronaVirusDataService.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre>    <span class="o">(...)</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">getStartCreateDt</span><span class="o">(){</span>
        <span class="nc">DateTimeFormatter</span> <span class="n">dtf</span> <span class="o">=</span> <span class="nc">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">"yyyyMMdd"</span><span class="o">);</span>
        <span class="nc">LocalDateTime</span> <span class="n">now</span> <span class="o">=</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">dtf</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">now</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">getEndCreateDt</span><span class="o">(){</span>
        <span class="nc">DateTimeFormatter</span> <span class="n">dtf</span> <span class="o">=</span> <span class="nc">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">"yyyyMMdd"</span><span class="o">);</span>
        <span class="nc">LocalDateTime</span> <span class="n">now</span> <span class="o">=</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
        <span class="nc">LocalDateTime</span> <span class="n">then</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="na">minusDays</span><span class="o">(</span><span class="mi">11</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">dtf</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">then</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
    <span class="o">(...)</span>
        <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"startCreateDt"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span>
        <span class="s">"="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">getStartCreateDt</span><span class="o">(),</span> <span class="s">"UTF-8"</span><span class="o">));</span> <span class="cm">/*ê²€ìƒ‰í•  ìƒì„±ì¼ ë²”ìœ„ì˜ ì‹œì‘*/</span>
        <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"endCreateDt"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span> <span class="s">"="</span> <span class="o">+</span>
         <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">getEndCreateDt</span><span class="o">(),</span> <span class="s">"UTF-8"</span><span class="o">));</span> <span class="cm">/*ê²€ìƒ‰í•  ìƒì„±ì¼ ë²”ìœ„ì˜ ì¢…ë£Œ*/</span>
        <span class="o">(...)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<p>getStartCreateDt ë©”ì†Œë“œëŠ” ì‹œì‘ì¼ ë¬¸ìì—´ì„ ë§Œë“¤ì–´ì¤€ë‹¤. ì´ ë©”ì†Œë“œëŠ” ë§¤ë²ˆ í˜¸ì¶œë  ë•Œë§ˆë‹¤ í˜„ì¬ ë‚ ì§œë¥¼ ë‚˜íƒ€ë‚´ ì¤„ ê²ƒì´ë‹¤. getEndCreateDt ë©”ì†Œë“œëŠ” ë§¤ë²ˆ í˜¸ì¶œë  ë•Œë§ˆë‹¤ í˜„ì¬ ë‚ ì§œë¡œë¶€í„° 11ì¼ ì „ì˜ ë‚ ì§œ ë¬¸ìì—´ì„ ë§Œë“¤ì–´ ì¤„ ê²ƒì´ë‹¤. ë°©ê¸ˆ ì „ì— ìš°ë¦¬ê°€ highchart ê·¸ë˜í”„ì—ë‹¤ê°€ 10ì¼ ë™ì•ˆì˜ í˜„í™©ì„ ë³´ì—¬ì¤€ë‹¤ê³  í–ˆëŠ”ë° ì™œ 11ì¼ ì „ ë‚ ì§œë¥¼ ì–»ëŠ” ì§€ ê¶ê¸ˆí•´ í•  ê²ƒì´ë‹¤.</p>

<p>ê·¸ì „ì— ì¤‘ìš”í•œ ê²ƒ í•˜ë‚˜ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì„ ìŠì—ˆëŠ”ë° ê·¸ê²ƒë¶€í„° ì‚´í´ë³´ì. ë‚´ê°€ ì¼ë°˜ ì¸ì¦í‚¤ë¥¼ ë°›ì•˜ë˜ í˜ì´ì§€ì— ë“¤ì–´ê°€ë©´ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ ì°¸ê³ ë¬¸ì„œë¼ê³  í•´ì„œ ë³´ê±´ë³µì§€ë¶€ OpenAPI í™œìš©ê°€ì´ë“œê°€ ìˆë‹¤. ì´ê²ƒì„ í´ë¦­í•´ì„œ ë‹¤ìš´ë°›ê³  ì—´ì–´ë³´ì.</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-14-55-12.png" alt="" /></p>

<p><br /></p>

<p>word íŒŒì¼ì´ ì—´ë¦¬ë©´ ìŠ¤í¬ë¡¤ì„ ì•„ë˜ë¡œ ì­‰ ë‚´ë¦¬ë‹¤ë³´ë©´ <strong>ìš”ì²­/ì‘ë‹µ ë©”ì‹œì§€ ì—ì œ</strong>ê°€ ë‚˜ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-14-56-19.png" alt="" /></p>

<p><br /></p>

<p>ìœ„ ì‚¬ì§„ì˜ xmlì€ ì•„ê¹Œ ìš°ë¦¬ê°€ ì²˜ìŒì— ì´ˆë¡ìƒ‰ í™”ì‚´í‘œë¥¼ ëˆŒëŸ¬ì„œ ì‹¤í–‰í–ˆì„ ë•Œ í•œì¤„ë¡œ ì­‰ ë‚˜ì˜¤ë˜ ë°ì´í„°ë“¤ì´ë‹¤. ê·¸ëŸ°ë° ê°€ë§Œíˆ ë³´ë‹ˆ ëˆ„ì ë˜ëŠ” í™•ì§„ì ë°ì´í„°ëŠ” í‘œì‹œë˜ì–´ ìˆìœ¼ë‚˜ ë‚ ì§œë³„ë¡œ ëª‡ëª…ì´ ê±¸ë ¸ëŠ”ì§€ëŠ” ë°ì´í„°ê°€ ë‚˜ì™€ ìˆì§€ ì•Šë‹¤. ì´ ìƒíƒœì—ì„œ ì˜¤ëŠ˜ í™•ì§„ìê°€ ëª‡ ëª…ì´ ëŠ˜ì—ˆë‚˜ í™•ì¸í•˜ë ¤ë©´ ì˜¤ëŠ˜ê¹Œì§€ì˜ ëˆ„ì  í™•ì§„ì ìˆ˜ì™€ ì–´ì œê¹Œì§€ì˜ ëˆ„ì  í™•ì§„ì ìˆ˜ë¥¼ ë¹¼ì£¼ë©´ ë  ê²ƒì´ë‹¤. ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” ì•„ê¹Œ getEndCreateDt ë©”ì†Œë“œì—ì„œ 11ì¼ ì „ ë‚ ì§œë¥¼ êµ¬í•˜ëŠ” ê²ƒì´ë‹¤. 10ì¼ ë™ì•ˆì˜ í™•ì§„ì í˜„í™©ì„ í‘œì‹œí•´ì•¼ í•˜ë‹ˆê¹Œ ë§ì´ë‹¤. ê³„ì† ì „ë‚ ì´ë‘ ëˆ„ì  í™•ì§„ì ìˆ˜ë¥¼ ë¹¼ì¤Œìœ¼ë¡œì¨ ê·¸ë‚  ëª‡ëª…ì˜ í™•ì§„ìê°€ ëŠ˜ì—ˆëŠ”ì§€ ë´ì•¼ í•œë‹¤.</p>

<p>ì ì´ëŸ¼ìœ¼ë¡œì¨ ìš°ë¦¬ëŠ” main í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ í˜„ì¬ ë‚ ì§œ ê¸°ì¤€ìœ¼ë¡œ 11ì¼ ì „ì˜ ì½”ë¡œë‚˜ í˜„í™© ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>

<p>ìš°ë¦¬ê°€ ì›Œë“œ íŒŒì¼ì—ì„œ ìš”ì²­/ì‘ë‹µ ë©”ì‹œì§€ ì˜ˆì œì—ì„œ ë´¤ë“¯ì´ ë°ì´í„°ëŠ” xmlí˜•íƒœì´ë‹¤. ì¦‰ ìš°ë¦¬ëŠ” xml í˜•íƒœë¥¼ íŒŒì‹±í•´ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ê³  ê·¸ê²ƒì„ ì ì ˆí•œ ë¦¬ìŠ¤íŠ¸ì— ë‹´ì•„ì¤€ ë‹¤ìŒ ê·¸ê²ƒì„ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ model.addAttribute() í˜•íƒœë¡œ htmlë¡œ ë³´ë‚´ì£¼ê²Œ ë˜ë©´ ê·¸ ë°ì´í„°ë¥¼ í•˜ì´ì°¨íŠ¸ì˜ ê·¸ë˜í”„ì— í‘œì‹œí•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p>

<p><br /></p>

<p>ë¨¼ì € xmlë¥¼ íŒŒì‹±í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ìš°ë¦¬ê°€ ë°ì´í„°ë¥¼ ë‹´ì„ ë¦¬ìŠ¤íŠ¸ ë³€ìˆ˜ë“¤ì„ ì„ ì–¸í•˜ê³  ì´ˆê¸°í™”í•˜ëŠ” ì‘ì—…ì„ í•œ ë²ˆì— í•´ë³´ì. ë§ì€ ì½”ë“œ ë³€í™”ê°€ ìˆìœ¼ë‹ˆ ê·€ì°®ìœ¼ì‹  ë¶„ë“¤ì€ ë³µë¶™ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.
<strong>CoronaVirusDataService.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">org.techlead.public_api_highcahrt.service</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.Data</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.scheduling.annotation.Scheduled</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.w3c.dom.Document</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.w3c.dom.Element</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.w3c.dom.Node</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.w3c.dom.NodeList</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.annotation.PostConstruct</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.parsers.DocumentBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.parsers.DocumentBuilderFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URLEncoder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.time.LocalDateTime</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.time.format.DateTimeFormatter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="nd">@Data</span>
<span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CoronaVirusDataService</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">decideList</span><span class="o">;</span><span class="c1">//ë‚ ì§œë³„ í™•ì§„ì ìˆ˜</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">deathList</span><span class="o">;</span><span class="c1">//ë‚ ì§œë³„ ì‚¬ë§ì ìˆ˜</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">clearList</span><span class="o">;</span><span class="c1">//ë‚ ì§œë³„ ê²©ë¦¬í•´ì œ ìˆ˜</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">dateList</span><span class="o">;</span><span class="c1">//ë‚ ì§œë³„ ë¬¸ìì—´ ë°°ì—´</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">totalConfirmed</span><span class="o">;</span> <span class="c1">//ì˜¤ëŠ˜ê¹Œì§€ ëˆ„ì  ì´ í™•ì§„ì</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getStartCreateDt</span><span class="o">(){</span>
        <span class="nc">DateTimeFormatter</span> <span class="n">dtf</span> <span class="o">=</span> <span class="nc">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">"yyyyMMdd"</span><span class="o">);</span>
        <span class="nc">LocalDateTime</span> <span class="n">now</span> <span class="o">=</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">dtf</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">now</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span>  <span class="nc">String</span> <span class="nf">getEndCreateDt</span><span class="o">(){</span>
        <span class="nc">DateTimeFormatter</span> <span class="n">dtf</span> <span class="o">=</span> <span class="nc">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">"yyyyMMdd"</span><span class="o">);</span>
        <span class="nc">LocalDateTime</span> <span class="n">now</span> <span class="o">=</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
        <span class="nc">LocalDateTime</span> <span class="n">then</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="na">minusDays</span><span class="o">(</span><span class="mi">11</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">dtf</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">then</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span>  <span class="kt">void</span> <span class="nf">initialDateList</span><span class="o">(){</span>
        <span class="nc">DateTimeFormatter</span> <span class="n">dtf</span> <span class="o">=</span> <span class="nc">DateTimeFormatter</span><span class="o">.</span><span class="na">ofPattern</span><span class="o">(</span><span class="s">"MM/dd"</span><span class="o">);</span>
        <span class="nc">LocalDateTime</span> <span class="n">now</span> <span class="o">=</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">9</span><span class="o">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
            <span class="nc">LocalDateTime</span> <span class="n">date</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="na">minusDays</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="n">dateList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">dtf</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">date</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="nf">getTagValue</span><span class="o">(</span><span class="nc">String</span> <span class="n">tag</span><span class="o">,</span> <span class="nc">Element</span> <span class="n">ele</span><span class="o">)</span> <span class="o">{</span>

        <span class="nc">NodeList</span> <span class="n">nodeList</span> <span class="o">=</span> <span class="n">ele</span><span class="o">.</span><span class="na">getElementsByTagName</span><span class="o">(</span><span class="n">tag</span><span class="o">).</span><span class="na">item</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getChildNodes</span><span class="o">();</span>


        <span class="nc">Node</span> <span class="n">nValue</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Node</span><span class="o">)</span> <span class="n">nodeList</span><span class="o">.</span><span class="na">item</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>


        <span class="k">if</span><span class="o">(</span><span class="n">nValue</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>

            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>

        <span class="o">}</span>

        <span class="k">return</span> <span class="n">nValue</span><span class="o">.</span><span class="na">getNodeValue</span><span class="o">();</span>

    <span class="o">}</span><span class="c1">// getTagValue</span>


    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">xmlApiTest</span><span class="o">(</span><span class="nc">String</span> <span class="n">url</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">decideList</span><span class="o">=</span><span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">deathList</span><span class="o">=</span><span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">clearList</span><span class="o">=</span><span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">dateList</span><span class="o">=</span><span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

        <span class="k">try</span><span class="o">{</span>
            <span class="nc">DocumentBuilderFactory</span> <span class="n">dbFactory</span> <span class="o">=</span> <span class="nc">DocumentBuilderFactory</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
            <span class="nc">DocumentBuilder</span> <span class="n">dBuilder</span>  <span class="o">=</span> <span class="n">dbFactory</span><span class="o">.</span><span class="na">newDocumentBuilder</span><span class="o">();</span>
            <span class="nc">Document</span> <span class="n">doc</span> <span class="o">=</span> <span class="n">dBuilder</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">url</span><span class="o">);</span>


            <span class="n">doc</span><span class="o">.</span><span class="na">getDocumentElement</span><span class="o">().</span><span class="na">normalize</span><span class="o">();</span>


            <span class="nc">NodeList</span> <span class="n">nodeList</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="na">getElementsByTagName</span><span class="o">(</span><span class="s">"item"</span><span class="o">);</span>


            <span class="kt">boolean</span> <span class="n">flag</span><span class="o">=</span><span class="kc">true</span><span class="o">;</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">temp</span><span class="o">&lt;</span><span class="n">nodeList</span><span class="o">.</span><span class="na">getLength</span><span class="o">()-</span><span class="mi">2</span><span class="o">;</span> <span class="n">temp</span><span class="o">++)</span> <span class="o">{</span>

                <span class="nc">Node</span> <span class="n">nNode</span> <span class="o">=</span> <span class="n">nodeList</span><span class="o">.</span><span class="na">item</span><span class="o">(</span><span class="n">temp</span><span class="o">);</span>

                <span class="nc">Node</span> <span class="n">nNodeTest</span><span class="o">=</span><span class="n">nodeList</span><span class="o">.</span><span class="na">item</span><span class="o">(</span><span class="n">temp</span><span class="o">+</span><span class="mi">1</span><span class="o">);</span>

                <span class="k">if</span><span class="o">(</span><span class="n">nNode</span><span class="o">.</span><span class="na">getNodeType</span><span class="o">()==</span><span class="nc">Node</span><span class="o">.</span><span class="na">ELEMENT_NODE</span><span class="o">)</span> <span class="o">{</span>

                    <span class="nc">Element</span> <span class="n">element</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Element</span><span class="o">)</span><span class="n">nNode</span><span class="o">;</span>

                    <span class="nc">Element</span> <span class="n">elementTest</span><span class="o">=(</span><span class="nc">Element</span><span class="o">)</span><span class="n">nNodeTest</span><span class="o">;</span>


                    <span class="n">decideList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">getTagValue</span><span class="o">(</span><span class="s">"decideCnt"</span><span class="o">,</span><span class="n">element</span><span class="o">))-</span>
                            <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">getTagValue</span><span class="o">(</span><span class="s">"decideCnt"</span><span class="o">,</span><span class="n">elementTest</span><span class="o">)));</span>
                    <span class="n">deathList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">getTagValue</span><span class="o">(</span><span class="s">"deathCnt"</span><span class="o">,</span><span class="n">element</span><span class="o">))-</span>
                            <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">getTagValue</span><span class="o">(</span><span class="s">"deathCnt"</span><span class="o">,</span><span class="n">elementTest</span><span class="o">)));</span>
                    <span class="n">clearList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">getTagValue</span><span class="o">(</span><span class="s">"clearCnt"</span><span class="o">,</span><span class="n">element</span><span class="o">))-</span>
                            <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">getTagValue</span><span class="o">(</span><span class="s">"clearCnt"</span><span class="o">,</span><span class="n">elementTest</span><span class="o">)));</span>

                    <span class="k">if</span><span class="o">(</span><span class="n">flag</span><span class="o">){</span>
                        <span class="n">totalConfirmed</span><span class="o">=</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">getTagValue</span><span class="o">(</span><span class="s">"decideCnt"</span><span class="o">,</span><span class="n">element</span><span class="o">));</span>
                        <span class="n">flag</span><span class="o">=</span><span class="kc">false</span><span class="o">;</span>
                    <span class="o">}</span>
                <span class="o">}</span><span class="c1">//if</span>

            <span class="o">}</span><span class="c1">//for</span>


            <span class="n">initialDateList</span><span class="o">();</span>

        <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nc">Collections</span><span class="o">.</span><span class="na">reverse</span><span class="o">(</span><span class="n">decideList</span><span class="o">);</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">reverse</span><span class="o">(</span><span class="n">deathList</span><span class="o">);</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">reverse</span><span class="o">(</span><span class="n">clearList</span><span class="o">);</span>


    <span class="o">}</span>
    <span class="nd">@PostConstruct</span>
    <span class="nd">@Scheduled</span><span class="o">(</span><span class="n">cron</span><span class="o">=</span><span class="s">"* * 1 * * *"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialData</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">try</span><span class="o">{</span>
            <span class="nc">StringBuilder</span> <span class="n">urlBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="s">"http://openapi.data.go.kr/"</span><span class="o">+</span>
                    <span class="s">"openapi/service/rest/Covid19/getCovid19InfStateJson"</span><span class="o">);</span> <span class="cm">/*URL*/</span>
            <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"?"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"ServiceKey"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span>
                    <span class="s">"=P1wWeheZvhyl1CtYk8BFcVLbUl2ZJd!!!!~~~~"</span><span class="o">);</span> <span class="cm">/*Service Key*/</span>
            <span class="cm">/*ê³µê³µë°ì´í„°í¬í„¸ì—ì„œ ë°›ì€ ì¸ì¦í‚¤*/</span>
            <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"ServiceKey"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span>
                    <span class="s">"="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"P1wWeheZvhyl1CtYk8BFcVLbUl2ZJ!!!!~~~~"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span>
            <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"pageNo"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span>
                    <span class="s">"="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"1"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span> <span class="cm">/*í˜ì´ì§€ë²ˆí˜¸*/</span>
            <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"numOfRows"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span>
                    <span class="s">"="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"10"</span><span class="o">,</span> <span class="s">"UTF-8"</span><span class="o">));</span> <span class="cm">/*í•œ í˜ì´ì§€ ê²°ê³¼ ìˆ˜*/</span>
            <span class="cm">/*ê²€ìƒ‰í•  ìƒì„±ì¼ ë²”ìœ„ì˜ ì‹œì‘*/</span>
            <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"startCreateDt"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span>
                    <span class="s">"="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">getEndCreateDt</span><span class="o">(),</span> <span class="s">"UTF-8"</span><span class="o">));</span>
            <span class="cm">/*ê²€ìƒ‰í•  ìƒì„±ì¼ ë²”ìœ„ì˜ ì¢…ë£Œ*/</span>
            <span class="n">urlBuilder</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&amp;"</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="s">"endCreateDt"</span><span class="o">,</span><span class="s">"UTF-8"</span><span class="o">)</span> <span class="o">+</span>
                    <span class="s">"="</span> <span class="o">+</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">getStartCreateDt</span><span class="o">(),</span> <span class="s">"UTF-8"</span><span class="o">));</span>
            <span class="no">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="no">URL</span><span class="o">(</span><span class="n">urlBuilder</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="n">xmlApiTest</span><span class="o">(</span><span class="n">url</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
            <span class="nc">HttpURLConnection</span> <span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"GET"</span><span class="o">);</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>

            <span class="nc">BufferedReader</span> <span class="n">rd</span><span class="o">;</span>
            <span class="k">if</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">200</span> <span class="o">&amp;&amp;</span> <span class="n">conn</span><span class="o">.</span><span class="na">getResponseCode</span><span class="o">()</span> <span class="o">&lt;=</span> <span class="mi">300</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">rd</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">rd</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">()));</span>
            <span class="o">}</span>
            <span class="nc">StringBuilder</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
            <span class="nc">String</span> <span class="n">line</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">((</span><span class="n">line</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">rd</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
            <span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>

        <span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>


    <span class="o">}</span>



<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p><strong>line 49</strong>: ì´ ë©”ì†Œë“œì—ì„œëŠ” dateList ë¦¬ìŠ¤íŠ¸ ë°°ì—´ì„ ì´ˆê¸°í™”í•œë‹¤. ì´ dateList ë¬¸ìì—´ ë°°ì—´ì—ëŠ” ì¶”í›„ì— ê·¸ë˜í”„ì—ì„œ X ì¶•ì— ì°”í ë¬¸ìì—´ì„ ë‚˜íƒ€ë‚´ì¤€ë‹¤. í¬ë§·ì€ ì›”/ì¼ í˜•ì‹ìœ¼ë¡œ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ DateTimeFormatter.ofPatternë¥¼ ì„¤ì •í•˜ê³  for ë¬¸ìœ¼ë¡œ ë‚˜ë¨¸ì§€ ë‚ ì§œ ë¬¸ìì—´ì„ ì €ì¥í•œë‹¤.<br /></p>
</blockquote>

<blockquote>
  <p><strong>line 57</strong>: getTagValue ë©”ì†Œë“œ ìš°ë¦¬ê°€ ì›í•˜ëŠ” íƒœê·¸ì˜ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. íŒŒë¼ë¯¸í„°ë¡œëŠ” íƒœê·¸ ì´ë¦„ê³¼ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ë„£ì–´ì£¼ë©´ í•´ë‹¹í•˜ëŠ” ë°ì´í„° ë¬¸ìì—´ì„ ë°˜í™˜í•œë‹¤.<br /></p>
</blockquote>

<blockquote>
  <p><strong>line 76</strong>: xmlApiTest ë©”ì†Œë“œì—ì„œ ê° ë¦¬ìŠ¤íŠ¸ ë³€ìˆ˜ë“¤ì„ ì´ˆê¸°í™” í•´ì£¼ê²Œ ë˜ëŠ”ë° for ë¬¸ìœ¼ë¡œ íƒœê·¸ë“¤ì„ ìˆœíšŒí•˜ë©´ì„œ ê° ë¬¸ìì—´ ë°ì´í„°ë¥¼ ì–»ê³  ê·¸ ë°ì´í„°ë¥¼ Intë¡œ íŒŒì‹±í•œë‹¤ìŒ ì•„ê¹Œ ì´ì•¼ê¸° í–ˆë˜ ê²ƒì²˜ëŸ¼ ì „ë‚ ê³¼ì˜ ì°¨ë¥¼ ì´ìš©í•´ì„œ ì¦ê°€ëŸ‰ì„ í•˜ë‚˜ì”© ë„£ì–´ì£¼ê³  ìˆë‹¤. ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ì— ë¦¬ìŠ¤íŠ¸ë¥¼ reverseí•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë° ì´ëŠ” ê·¸ë˜í”„ì— ë³´ì—¬ì§ˆë•Œ ê³¼ê±°ë¶€í„° í˜„ì¬ê¹Œì§€ ìˆœì„œëŒ€ë¡œ ë³´ì—¬ì£¼ê¸° ìœ„í•¨ì´ë‹¤.<br /></p>
</blockquote>

<blockquote>
  <p><strong>line 138</strong>: initialData ì—ì„œëŠ” ìƒ˜í”Œ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ê³  ì•ì—ì„œ ë§Œë“  xmlApiTest ë©”ì†Œë“œì— url íŒŒë¼ë¯¸í„°ë¥¼ ë„˜ê²¨ì£¼ê³  í˜¸ì¶œí•œë‹¤. ì´ ë©”ì†Œë“œëŠ” @Scheduled ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë§¤ì¼ í•œ ë²ˆì‹ ìë™ìœ¼ë¡œ í˜¸ì¶œì´ ëœë‹¤. PostConstruct ì–´ë…¸í…Œì´ì…˜ì€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë˜ë©´ ìŠ¤í”„ë§ì´ ì´ ì„œë¹„ìŠ¤ ê°ì²´ë¥¼ ë§Œë“¤ê²Œ ë˜ê³  ê°ì²´ë¥¼ ë‹¤ ìƒì„±í•˜ê³  ë‚˜ë©´ ì´ @PostConstruct ì–´ë…¸í…Œì´ì…˜ì´
ìˆëŠ” ë©”ì†Œë“œë¥¼ ìë™ìœ¼ë¡œ ì‹¤í–‰ì‹œì¼œì¤€ë‹¤. <strong>@Scheduled</strong> ì–´ë…¸í…Œì´ì…˜ì´ ë™ì‘í•˜ê²Œ í•˜ë ¤ë©´ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ @EnableSchedulingë¥¼ ê¼­ ì¶”ê°€í•´ì•¼ í•œë‹¤.</p>
</blockquote>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-15-41-42.png" alt="" /></p>

<p><br /></p>

<p>ì´ì œ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤.</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-15-46-06.png" alt="" /></p>

<p><br /></p>

<p><strong>HomeController.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">org.techlead.public_api_highcahrt.controller</span><span class="o">;</span>


<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.ui.Model</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.techlead.public_api_highcahrt.service.CoronaVirusDataService</span><span class="o">;</span>


<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HomeController</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="nc">CoronaVirusDataService</span> <span class="n">coronaVirusDataService</span><span class="o">;</span>




    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getData</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">){</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"dates"</span><span class="o">,</span><span class="n">coronaVirusDataService</span><span class="o">.</span><span class="na">getDateList</span><span class="o">());</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"totalConfirmed"</span><span class="o">,</span><span class="n">coronaVirusDataService</span><span class="o">.</span><span class="na">getTotalConfirmed</span><span class="o">());</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"increaseFromYesterday"</span><span class="o">,</span><span class="n">coronaVirusDataService</span><span class="o">.</span><span class="na">getDecideList</span><span class="o">());</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"dailyCure"</span><span class="o">,</span><span class="n">coronaVirusDataService</span><span class="o">.</span><span class="na">getClearList</span><span class="o">());</span>
        <span class="k">return</span> <span class="s">"index"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>


</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<p>ì ì´ì œ cssì™€ htmlë¥¼ êµ¬ì„±í•´ ë³´ì. ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ ë””ë ‰í† ë¦¬ì™€ íŒŒì¼ì„ ë§Œë“ ë‹¤.</p>

<p><img src="/images/SpringBoot/highchart-public-API/2021-03-01-15-48-48.png" alt="" /></p>

:ET