I"œT<p><br /><br /></p>

<h1 id="ì—°ê´€ê´€ê³„-í…ŒìŠ¤íŠ¸">ì—°ê´€ê´€ê³„ í…ŒìŠ¤íŠ¸</h1>

<hr />

<p>ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì„ PK ìª½ì—ì„œë¶€í„° ì‹œì‘í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. í”„ë¡œì íŠ¸ë¥¼ ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ì´ êµ¬ì„±í•œë‹¤.</p>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part3/Chapter5/2021-02-17-19-16-01.png" alt="" /></p>

<p><br /></p>

<p>ì‘ì„±í•˜ëŠ” MemberRepositoryTestsì—ëŠ” MemberRepositoryë¥¼ ì£¼ì…í•˜ê³  ì˜ˆì œë¡œ ì‚¬ìš©í•  Member ê°ì²´ë¥¼ 100ê°œ ì¶”ê°€í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.</p>

<p><br /></p>

<p><strong>MemberRepositoryTests í´ë˜ìŠ¤</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">org.zerock.board.repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.zerock.board.entity.Member</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.stream.IntStream</span><span class="o">;</span>
<span class="nd">@SpringBootTest</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberRepositoryTests</span> <span class="o">{</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">MemberRepository</span> <span class="n">memberRepository</span><span class="o">;</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertMembers</span><span class="o">(){</span>
        <span class="nc">IntStream</span><span class="o">.</span><span class="na">rangeClosed</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">100</span><span class="o">).</span><span class="na">forEach</span><span class="o">(</span><span class="n">i</span><span class="o">-&gt;{</span>
            <span class="nc">Member</span> <span class="n">member</span><span class="o">=</span><span class="nc">Member</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">email</span><span class="o">(</span><span class="s">"user"</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="s">"@aaa.com"</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">password</span><span class="o">(</span><span class="s">"1111"</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"USER"</span><span class="o">+</span><span class="n">i</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
            <span class="n">memberRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>
<p><br /></p>

<p>í…ŒìŠ¤íŠ¸ì˜ ì‹¤í–‰ ê²°ê³¼ë¡œ ë°ì´íŠ¸ë² ì´ìŠ¤ì— íšŒì› ë°ì´í„°ê°€ ì¶”ê°€ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.</p>

<p>BoardRepositoryTests ì½”ë“œ ì—­ì‹œ ë™ì¼í•œ íŒ¨í‚¤ì§€ì— ì¶”ê°€í•˜ê³  ì•ì—ì„œ ë§Œë“¤ì–´ì§„ íšŒì› ë°ì´í„°ë¥¼ ì´ìš©í•´ì„œ Board ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ì¶”ê°€í•˜ë„ë¡ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.</p>

<p><br /></p>

<p><strong>BoardRepositoryTests í´ë˜ìŠ¤</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">org.zerock.board.repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.domain.Page</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.domain.PageRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.domain.Pageable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.domain.Sort</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.zerock.board.entity.Board</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.zerock.board.entity.Member</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.stream.IntStream</span><span class="o">;</span>

<span class="nd">@SpringBootTest</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardRepositoryTests</span> <span class="o">{</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">BoardRepository</span> <span class="n">boardRepository</span><span class="o">;</span>
    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertBoard</span><span class="o">(){</span>
        <span class="nc">IntStream</span><span class="o">.</span><span class="na">rangeClosed</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">100</span><span class="o">).</span><span class="na">forEach</span><span class="o">(</span><span class="n">i</span><span class="o">-&gt;{</span>
            <span class="nc">Member</span> <span class="n">member</span><span class="o">=</span> <span class="nc">Member</span><span class="o">.</span><span class="na">builder</span><span class="o">().</span><span class="na">email</span><span class="o">(</span><span class="s">"user"</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="s">"@aaa.com"</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
            <span class="nc">Board</span> <span class="n">board</span><span class="o">=</span><span class="nc">Board</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">title</span><span class="o">(</span><span class="s">"Title..."</span><span class="o">+</span><span class="n">i</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">content</span><span class="o">(</span><span class="s">"Content...."</span><span class="o">+</span><span class="n">i</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">writer</span><span class="o">(</span><span class="n">member</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
            <span class="n">boardRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">board</span><span class="o">);</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p><br /></p>

<p>testInsert()ëŠ” í•œ ëª…ì˜ ì‚¬ìš©ìê°€ í•˜ë‚˜ì˜ ê²Œì‹œë¬¼ì„ ë“±ë¡í•˜ë„ë¡ ì‘ì„±ë˜ì—ˆë‹¤. í…ŒìŠ¤íŠ¸ ê²°ê³¼ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í†µí•´ í™•ì¸í•œë‹¤.</p>

<p>ëŒ“ê¸€ì€ ReplyRepositoryTest í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•´ì„œ íŠ¹ì •í•œ ì„ì˜ì˜ ê²Œì‹œê¸€ì„ ëŒ€ìƒìœ¼ë¡œ ëŒ“ê¸€ì„ ì¶”ê°€í•œë‹¤. í˜„ì¬ ê²Œì‹œê¸€ì€ 1ë²ˆë¶€í„° 100ë²ˆê¹Œì§€ì˜ ì„ì˜ì˜ ë²ˆí˜¸ë¥¼ ì´ìš©í•´ì„œ 300ê°œì˜ ëŒ“ê¸€ì„ ì¶”ê°€í•œë‹¤.</p>

<p><br /></p>

<p><strong>ReplyRepositoryTests í´ë˜ìŠ¤</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">org.zerock.board.repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.zerock.board.entity.Board</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.zerock.board.entity.Reply</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.stream.IntStream</span><span class="o">;</span>

<span class="nd">@SpringBootTest</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ReplyRepositoryTests</span> <span class="o">{</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">ReplyRepository</span> <span class="n">replyRepository</span><span class="o">;</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertReply</span><span class="o">(){</span>
        <span class="nc">IntStream</span><span class="o">.</span><span class="na">rangeClosed</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">300</span><span class="o">).</span><span class="na">forEach</span><span class="o">(</span><span class="n">i</span><span class="o">-&gt;{</span>
            <span class="kt">long</span> <span class="n">bno</span><span class="o">=(</span><span class="kt">long</span><span class="o">)(</span><span class="nc">Math</span><span class="o">.</span><span class="na">random</span><span class="o">()*</span><span class="mi">100</span><span class="o">)+</span><span class="mi">1</span><span class="o">;</span>
            <span class="nc">Board</span> <span class="n">board</span><span class="o">=</span> <span class="nc">Board</span><span class="o">.</span><span class="na">builder</span><span class="o">().</span><span class="na">bno</span><span class="o">(</span><span class="n">bno</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>

            <span class="nc">Reply</span> <span class="n">reply</span><span class="o">=</span><span class="nc">Reply</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">text</span><span class="o">(</span><span class="s">"Reply......"</span><span class="o">+</span><span class="n">i</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">board</span><span class="o">(</span><span class="n">board</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">replyer</span><span class="o">(</span><span class="s">"guest"</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
            <span class="n">replyRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">reply</span><span class="o">);</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>insertReply()ëŠ” 300ê°œì˜ ëŒ“ê¸€ì„ 1~100 ì‚¬ì´ì˜ ë²ˆí˜¸ë¡œ ì¶”ê°€í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” 1ë²ˆë¶€í„° 100ë²ˆê¹Œì§€ ê²Œì‹œë¬¼ì— ëŒ€í•´ì„œ nê°œì˜ ëŒ“ê¸€ì´ ì¶”ê°€ëœë‹¤.</p>

<p><br /></p>

<p>ë°ì´í„° ì¶”ê°€ê°€ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ì´ì œ í™”ë©´ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ì •ë¦¬í•´ ë³¸ë‹¤.</p>

<ul>
  <li>ëª©ë¡ í™”ë©´: ê²Œì‹œê¸€ì˜ ë²ˆí˜¸, ì œëª©, ëŒ“ê¸€ ê°œìˆ˜, ì‘ì„±ìì˜ ì´ë¦„/ì´ë©”ì¼</li>
</ul>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part3/Chapter5/2021-02-17-19-36-04.png" alt="" /></p>

<p><br /></p>

<ul>
  <li>ì¡°íšŒ í™”ë©´: ê²Œì‹œê¸€ì˜ ë²ˆí˜¸, ì œëª©, ë‚´ìš©, ëŒ“ê¸€ ê°œìˆ˜, ì‘ì„±ì ì´ë¦„/ì´ë©”ì¼</li>
</ul>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part3/Chapter5/2021-02-17-19-36-55.png" alt="" /></p>

<p><br /></p>

<p>ì—”í‹°í‹° í´ë˜ìŠ¤ë“¤ì€ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ìƒì—ì„œëŠ” ë‘ ê°œ í˜¹ì€ ë‘ ê°œ ì´ìƒì˜ í…Œì´ë¸”ë¡œ ìƒì„±ë˜ê¸° ë•Œë¬¸ì— ì—°ê´€ê´€ê³„ë¥¼ ë§ºê³  ìˆë‹¤ëŠ” ê²ƒì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì…ì¥ìœ¼ë¡œ ë³´ë©´ ì¡°ì¸ì´ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤. ì‹¤ì œë¡œ @ManyToOneì˜ ê²½ìš°ì—ëŠ” <strong>FK ìª½ì˜ ì—”í‹°í‹°ë¥¼ ê°€ì ¸ì˜¬ ë•Œ PK ìª½ì˜ ì—”í‹°í‹°ë„ ê°™ì´ ê°€ì ¸ì˜¨ë‹¤.</strong></p>

<p>BoardRepositoryTestsë¥¼ í†µí•´ì„œ Memberë¥¼ @ManyToOneìœ¼ë¡œ ì°¸ì¡°í•˜ê³  ìˆëŠ” Boardë¥¼ ì¡°íšŒí•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ ë³¸ë‹¤.</p>

<p><br /></p>

<p><strong>BoardRepositoryTests í´ë˜ìŠ¤ ì¼ë¶€</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre> <span class="nd">@Transactional</span>
    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testRead1</span><span class="o">(){</span>
        <span class="nc">Optional</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">=</span><span class="n">boardRepository</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="mi">100L</span><span class="o">);</span>
        <span class="nc">Board</span> <span class="n">board</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">board</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">board</span><span class="o">.</span><span class="na">getWriter</span><span class="o">());</span>
    <span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ìœ„ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì¿¼ë¦¬ê°€ ë‚´ë¶€ì ìœ¼ë¡œ left outer join ì²˜ë¦¬ê°€ ëœ ê²ƒì„ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.</p>

<p>Replyì™€ Board ì—­ì‹œ @ManyToOneì˜ ê´€ê³„ì´ë¯€ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë©´ ìë™ìœ¼ë¡œ ì¡°ì¸ì´ ì²˜ë¦¬ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>

<p><br /></p>

<p><strong>ReplyRepositoryTests í´ë˜ìŠ¤</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">readReply1</span><span class="o">(){</span>
        <span class="nc">Optional</span><span class="o">&lt;</span><span class="nc">Reply</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">=</span><span class="n">replyRepository</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="mi">1L</span><span class="o">);</span>
        <span class="nc">Reply</span> <span class="n">reply</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">reply</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">reply</span><span class="o">.</span><span class="na">getBoard</span><span class="o">());</span>
    <span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<p>ìœ„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì¡°ì¸ì´ ì²˜ë¦¬ëœ ì¿¼ë¦¬ê°€ ì‹¤í–‰ì´ ëœë‹¤.</p>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part3/Chapter5/2021-02-18-12-26-49.png" alt="" /></p>

<p><br /></p>

<p>ì‹¤í–‰ëœ SQLì„ ë³´ë©´ reply í…Œì´ë¸”, board í…Œì´ë¸”, member í…Œì´ë¸”ê¹Œì§€ ëª¨ë‘ ì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬ê°€ ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë° Replyë¥¼ ê°€ì ¸ì˜¬ ë•Œ ë§¤ë²ˆ Boardì™€ Memberê¹Œì§€ ì¡°ì¸í•´ì„œ ê°€ì ¸ì˜¬ í•„ìš”ê°€ ë§ì§€ëŠ” ì•Šìœ¼ë¯€ë¡œ ìœ„ì™€ ê°™ì€ ì—¬ëŸ¬ í…Œì´ë¸”ì´ ì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ìƒí™©ì€ ê·¸ë‹¤ì§€ íš¨ìœ¨ì ì´ì§€ ì•Šë‹¤.</p>

<p>ìœ„ì™€ ê°™ì´ ì—°ê´€ê´€ê³„ë¥¼ ê°€ì§„ ëª¨ë“  ì—”í‹°í‹°ë¥¼ ê°™ì´ ë¡œë”©í•˜ëŠ” ê²ƒì„ â€˜Eagar loadingâ€™ì´ë¼ê³  í•˜ëŠ”ë° â€˜ì¦‰ì‹œ ë¡œë”©â€™ì´ë¼ëŠ” ìš©ì–´ë¡œ í‘œí˜„í•œë‹¤. ì´ëŠ” ëª¨ë“  ì—”í‹°í‹°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¥ì ì´ ìˆì§€ë§Œ ì—¬ëŸ¬ ì—°ê´€ê´€ê³„ë¥¼ ë§ºê³  ìˆê±°ë‚˜ ì—°ê´€ê´€ê³„ê°€ ë³µì¡í•´ì§ˆìˆ˜ë¡ ì¡°ì¸ìœ¼ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ë¥¼ í”¼í•  ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ JPAì—ì„œëŠ” ì—°ê´€ê´€ê³„ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ê°€ì ¸ì˜¬ ê²ƒì¸ê°€ì— ëŒ€í•´ì„œ fetchë¼ê³  í•˜ëŠ” ê²ƒì„ ì •ì˜ í•œë‹¤.</p>

<p>ì¦‰ì‹œ ë¡œë”©ì´ ë¶ˆí•„ìš”í•œ ì¡°ì¸ê¹Œì§€ ì²˜ë¦¬í•œë‹¤ë©´ ê·¸ì™€ ë°˜ëŒ€ë˜ëŠ” ê°œë…ì´ â€˜Lazy Loadingâ€™ì´ë‹¤. 
Board í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•´ë³´ì.</p>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part3/Chapter5/2021-02-18-12-30-23.png" alt="" /></p>

<p><br /></p>

<p><strong>Lazy loadingë¥¼ ì‚¬ìš©í•˜ëŠ” Board í´ë˜ìŠ¤</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">org.zerock.board.entity</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.*</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.persistence.*</span><span class="o">;</span>

<span class="nd">@Entity</span>
<span class="nd">@Builder</span>
<span class="nd">@AllArgsConstructor</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@Getter</span>
<span class="nd">@ToString</span><span class="o">(</span><span class="n">exclude</span> <span class="o">=</span> <span class="s">"writer"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Board</span> <span class="kd">extends</span> <span class="nc">BaseEntity</span><span class="o">{</span>
    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span><span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">bno</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">title</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">content</span><span class="o">;</span>
    <span class="nd">@ManyToOne</span><span class="o">(</span><span class="n">fetch</span><span class="o">=</span><span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Member</span> <span class="n">writer</span><span class="o">;</span>
<span class="o">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<p>Lazy loadingë¥¼</p>
:ET