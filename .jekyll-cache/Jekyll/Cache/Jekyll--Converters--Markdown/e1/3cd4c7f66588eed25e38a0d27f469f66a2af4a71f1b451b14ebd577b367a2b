I"÷`<p><br /><br /></p>

<h1 id="ëª©ë¡-ë°ì´í„°-í˜ì´ì§€-ì²˜ë¦¬í•˜ê¸°"><center>ëª©ë¡ ë°ì´í„° í˜ì´ì§€ ì²˜ë¦¬í•˜ê¸°</center></h1>

<p><br /></p>

<p>ì´ì „ ê²Œì‹œë¬¼ì—ì„œ ì´ì•¼ê¸° ë‚˜ëˆ´ë˜ ë‚´ìš©ì„ ì½”ë“œë¡œ ì˜®ê²¨ë³¸ë‹¤.</p>

<p><strong>PageResultDTO.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">org.techlead.guestbook.dto</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.Data</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.domain.Page</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.domain.Pageable</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.function.Function</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.stream.Collectors</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.stream.IntStream</span><span class="o">;</span>

<span class="nd">@Data</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PageResultDTO</span><span class="o">&lt;</span><span class="no">DTO</span><span class="o">,</span> <span class="no">EN</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">DTO</span><span class="o">&gt;</span> <span class="n">dtoList</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">totalPage</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">page</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">size</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">prev</span><span class="o">,</span> <span class="n">next</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">pageList</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">PageResultDTO</span><span class="o">(</span><span class="nc">Page</span><span class="o">&lt;</span><span class="no">EN</span><span class="o">&gt;</span> <span class="n">result</span><span class="o">,</span> <span class="nc">Function</span><span class="o">&lt;</span><span class="no">EN</span><span class="o">,</span><span class="no">DTO</span><span class="o">&gt;</span> <span class="n">fn</span><span class="o">){</span>
        <span class="n">dtoList</span><span class="o">=</span><span class="n">result</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="n">fn</span><span class="o">).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">makePageList</span><span class="o">(</span><span class="nc">Pageable</span> <span class="n">pageable</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">page</span><span class="o">=</span><span class="n">pageable</span><span class="o">.</span><span class="na">getPageNumber</span><span class="o">()+</span><span class="mi">1</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">size</span><span class="o">=</span><span class="n">pageable</span><span class="o">.</span><span class="na">getPageSize</span><span class="o">();</span>


        <span class="kt">int</span> <span class="n">tempEnd</span><span class="o">=(</span><span class="kt">int</span><span class="o">)(</span><span class="nc">Math</span><span class="o">.</span><span class="na">ceil</span><span class="o">(</span><span class="n">page</span><span class="o">/</span><span class="mf">10.0</span><span class="o">))*</span><span class="mi">10</span><span class="o">;</span>

        <span class="n">start</span><span class="o">=</span><span class="n">tempEnd</span><span class="o">-</span><span class="mi">9</span><span class="o">;</span>

        <span class="n">prev</span><span class="o">=</span><span class="n">start</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">;</span>

        <span class="n">end</span><span class="o">=</span><span class="n">totalPage</span><span class="o">&gt;</span><span class="n">tempEnd</span><span class="o">?</span><span class="nl">tempEnd:</span><span class="n">totalPage</span><span class="o">;</span>

        <span class="n">next</span><span class="o">=</span><span class="n">totalPage</span><span class="o">&gt;</span><span class="n">end</span><span class="o">;</span>
        <span class="n">pageList</span><span class="o">=</span> <span class="nc">IntStream</span><span class="o">.</span><span class="na">rangeClosed</span><span class="o">(</span><span class="n">start</span><span class="o">,</span><span class="n">end</span><span class="o">).</span><span class="na">boxed</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<blockquote>
  <h4 id="line-16-ì´-í˜ì´ì§€-ë²ˆí˜¸"><strong>line 16:</strong> ì´ í˜ì´ì§€ ë²ˆí˜¸<br /></h4>

  <h4 id="line-17-í˜„ì¬-í˜ì´ì§€-ë²ˆí˜¸"><strong>line 17:</strong> í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸<br /></h4>

  <h4 id="line-18-ëª©ë¡-ì‚¬ì´ì¦ˆ"><strong>line 18:</strong> ëª©ë¡ ì‚¬ì´ì¦ˆ<br /></h4>

  <h4 id="line-19-ì‹œì‘-í˜ì´ì§€-ë²ˆí˜¸-ë-í˜ì´ì§€-ë²ˆí˜¸"><strong>line 19:</strong> ì‹œì‘ í˜ì´ì§€ ë²ˆí˜¸, ë í˜ì´ì§€ ë²ˆí˜¸<br /></h4>

  <h4 id="line-20-ì´ì „-ë‹¤ìŒ"><strong>line 20:</strong> ì´ì „, ë‹¤ìŒ<br /></h4>

  <h4 id="line-21-í˜ì´ì§€-ë²ˆí˜¸-ëª©ë¡"><strong>line 21:</strong> í˜ì´ì§€ ë²ˆí˜¸ ëª©ë¡<br /></h4>

  <h4 id="line-28-0ë¶€í„°-ì‹œì‘í•˜ë¯€ë¡œ-1ë¥¼-ë”í•´ì¤€ë‹¤"><strong>line 28:</strong> 0ë¶€í„° ì‹œì‘í•˜ë¯€ë¡œ 1ë¥¼ ë”í•´ì¤€ë‹¤<br /></h4>

  <h4 id="line-29-í˜ì´ì§€-ì‚¬ì´ì¦ˆë¥¼-ê°€ì ¸ì˜¨ë‹¤"><strong>line 29:</strong> í˜ì´ì§€ ì‚¬ì´ì¦ˆë¥¼ ê°€ì ¸ì˜¨ë‹¤.<br /></h4>

  <h4 id="line-34-í˜ì´ì§€ì˜-startëŠ”-ê·¸-í˜ì´ì§€ì˜-ë-ë²ˆí˜¸ì˜-9ë¥¼-ë¹¼ë©´-ëœë‹¤"><strong>line 34:</strong> í˜ì´ì§€ì˜ startëŠ” ê·¸ í˜ì´ì§€ì˜ ë ë²ˆí˜¸ì˜ 9ë¥¼ ë¹¼ë©´ ëœë‹¤<br /></h4>

  <h4 id="line-36-startê°€-ì¡´ì¬í•˜ë©´-prevë„-ì¡´ì¬í•œë‹¤"><strong>line 36:</strong> startê°€ ì¡´ì¬í•˜ë©´ prevë„ ì¡´ì¬í•œë‹¤<br /></h4>

  <h4 id="line-38-totalpageê°€-ë”-ë§ìœ¼ë©´-í•´ë‹¹-í˜ì´ì§€ëŠ”-10ê°œì”©-ë‹¤-ë³´ì—¬ì¤€ë‹¤"><strong>line 38:</strong> totalPageê°€ ë” ë§ìœ¼ë©´ í•´ë‹¹ í˜ì´ì§€ëŠ” 10ê°œì”© ë‹¤ ë³´ì—¬ì¤€ë‹¤.<br /></h4>

  <h4 id="line-40-next-ë²„íŠ¼ì€-totalpageê°€-ë-ë²ˆí˜¸-ë³´ë‹¤-ë§ì„-ë•Œ-ë³´ì—¬ì£¼ê²Œ-í•œë‹¤"><strong>line 40:</strong> next ë²„íŠ¼ì€ totalPageê°€ ë ë²ˆí˜¸ ë³´ë‹¤ ë§ì„ ë•Œ ë³´ì—¬ì£¼ê²Œ í•œë‹¤.<br /></h4>
</blockquote>

<p><br /></p>

<p>ì•ì—ì„œ ë§Œë“  í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì„œ ìœ„ì™€ ê°™ì€ ì •ë³´ë“¤ì´ ì œëŒ€ë¡œ êµ¬ì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸ í•´ ë³¸ë‹¤.</p>

<p><strong>GuestbookServiceTests.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testList</span><span class="o">(){</span>
        <span class="nc">PageRequestDTO</span> <span class="n">pageRequestDTO</span><span class="o">=</span><span class="nc">PageRequestDTO</span><span class="o">.</span><span class="na">builder</span><span class="o">().</span><span class="na">page</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="na">size</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
        <span class="nc">PageResultDTO</span><span class="o">&lt;</span><span class="nc">GuestbookDTO</span><span class="o">,</span> <span class="nc">Guestbook</span><span class="o">&gt;</span> <span class="n">resultDTO</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="na">getList</span><span class="o">(</span><span class="n">pageRequestDTO</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"PREV: "</span><span class="o">+</span><span class="n">resultDTO</span><span class="o">.</span><span class="na">isPrev</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"NEXT: "</span><span class="o">+</span><span class="n">resultDTO</span><span class="o">.</span><span class="na">isNext</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"TOTAL: "</span><span class="o">+</span><span class="n">resultDTO</span><span class="o">.</span><span class="na">getTotalPage</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"start: "</span><span class="o">+</span><span class="n">resultDTO</span><span class="o">.</span><span class="na">getStart</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"tempEnd: "</span><span class="o">+</span><span class="n">resultDTO</span><span class="o">.</span><span class="na">getEnd</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"page: "</span><span class="o">+</span><span class="n">resultDTO</span><span class="o">.</span><span class="na">getPage</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-----------------------------------------"</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="nc">GuestbookDTO</span> <span class="n">guestbookDTO</span> <span class="o">:</span> <span class="n">resultDTO</span><span class="o">.</span><span class="na">getDtoList</span><span class="o">()){</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">guestbookDTO</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"========================================"</span><span class="o">);</span>
        <span class="n">resultDTO</span><span class="o">.</span><span class="na">getPageList</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="n">i</span><span class="o">-&gt;</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
    <span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<p>ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. ì²˜ë¦¬ëœ ê²°ê³¼ë¥¼ ë³´ë©´ í˜„ì¬ í˜ì´ì§€ê°€ 1ì¸ ê²½ìš° PREVëŠ” false, NEXTëŠ” true ë“±ì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆê³ , ë§ˆì§€ë§‰ì˜ ë²ˆí˜¸ëŠ” í™”ë©´ìƒì—ì„œ ì¶œë ¥ë˜ì–´ì•¼ í•˜ëŠ” í˜ì´ì§€ì˜ ë²ˆí˜¸ì´ë‹¤.</p>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part2/Chapter4/2021-03-04-14-59-51.png" alt="" /></p>

<p><br /></p>

<p>ì´ì œ ì„œë¹„ìŠ¤ ê³„ì¸µê¹Œì§€ ë“±ë¡ ì‘ì—…ê³¼ ëª©ë¡ ì²˜ë¦¬ê°€ ì™„ë£Œë˜ì—ˆìœ¼ë‹ˆ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‘ì„±í•˜ê³  ì‹¤ì œ í™”ë©´ì´ ì´ë¥¼ ë°˜ì˜í•´ë³¸ë‹¤. GuestbookControllerì—ëŠ” ìš°ì„ ì€ ëª©ë¡ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ â€˜/guesbook/listâ€™ë¡œ ì²˜ë¦¬ë˜ëŠ” ë¶€ë¶„ì„ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•œë‹¤.</p>

<p><strong>GuestbookController.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="o">(...)</span>
<span class="nd">@Controller</span>
<span class="c1">//guestbookìœ¼ë¡œë¶€í„° ì‹œì‘í•´ì„œ guestbook/register, guestbook/list ì´ëŸ°ì‹ìœ¼ë¡œ ì‚¬ìš©</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/guestbook"</span><span class="o">)</span>
<span class="nd">@Log4j2</span>
<span class="nd">@RequiredArgsConstructor</span> <span class="c1">//ìë™ ì£¼ì…ì„ ìœ„í•œ Annotation</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GuestbookController</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">GuestbookService</span> <span class="n">service</span><span class="o">;</span> <span class="c1">//finalë¡œ ì„ ì–¸</span>

    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">index</span><span class="o">()</span> <span class="o">{</span>

        <span class="k">return</span> <span class="s">"redirect:/guestbook/list"</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/list"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">list</span><span class="o">(</span><span class="nc">PageRequestDTO</span> <span class="n">pageRequestDTO</span><span class="o">,</span> <span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"list............."</span> <span class="o">+</span> <span class="n">pageRequestDTO</span><span class="o">);</span>

        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"result"</span><span class="o">,</span> <span class="n">service</span><span class="o">.</span><span class="na">getList</span><span class="o">(</span><span class="n">pageRequestDTO</span><span class="o">));</span>

    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<p>GuestbookControllerì—ì„œ list()ì—ëŠ” íŒŒë¼ë¯¸í„°ë¡œ PageRequestDTOë¥¼ ì´ìš©í•œë‹¤. ìŠ¤í”„ë§ MVCëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•´ ì£¼ëŠ” ê¸°ëŠ¥ì´ ìˆìœ¼ë¯€ë¡œ, í™”ë©´ì—ì„œ pageì™€ sizeë¼ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ë©´ PageRequestDTO ê°ì²´ë¡œ ìë™ìœ¼ë¡œ ìˆ˜ì§‘ëœë‹¤. Modelì€ ê²°ê³¼ ë°ì´í„°ë¥¼ í™”ë©´ì— ì „ë‹¬í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•˜ê³  ìˆë‹¤.</p>

<p><br /></p>

<p>list()ì—ëŠ” Modelì„ ì´ìš©í•´ì„œ GuestbookServiceImplì—ì„œ ë°˜í™˜í•˜ëŠ” PageResultDTOë¥¼ â€˜resultâ€™ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì „ë‹¬í•œë‹¤. ì‹¤ì œ ë‚´ìš©ì„ ì¶œë ¥í•˜ëŠ” list.htmlì—ì„œëŠ” ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ì´ìš©í•´ì„œ ì¶œë ¥í•œë‹¤.</p>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part2/Chapter4/2021-03-04-15-12-20.png" alt="" /></p>

<p><br /></p>

<p><strong>list.html</strong></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span> <span class="na">xmlns:th=</span><span class="s">"http://www.thymeleaf.org"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;th:block</span> <span class="na">th:replace=</span><span class="s">"~{/layout/basic :: setContent(~{this::content} )}"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;th:block</span> <span class="na">th:fragment=</span><span class="s">"content"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"mt-4"</span><span class="nt">&gt;</span>GuestBook List Page<span class="nt">&lt;/h1&gt;</span>
      <span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"table table-striped"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;thead&gt;</span>
          <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>#<span class="nt">&lt;/th&gt;</span>
            <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>Title<span class="nt">&lt;/th&gt;</span>
            <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>Writer<span class="nt">&lt;/th&gt;</span>
            <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>Regdate<span class="nt">&lt;/th&gt;</span>
          <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;/thead&gt;</span>
        <span class="nt">&lt;tbody&gt;</span>
          <span class="nt">&lt;tr</span> <span class="na">th:each=</span><span class="s">"dto : ${result.dtoList}"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"row"</span><span class="nt">&gt;&lt;/th&gt;</span>
            <span class="nt">&lt;td&gt;</span>[[${dto.title}]]<span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>[[${dto.writer}]]<span class="nt">&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>[[${#temporals.format(dto.regDate, 'yyyy/MM/dd')}]]<span class="nt">&lt;/td&gt;</span>
          <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;/tbody&gt;</span>
      <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/th:block&gt;</span>
  <span class="nt">&lt;/th:block&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<p>ì•±ì„ ì‹¤í–‰í•´ì„œ í•´ë‹¹ ë·°ë¥¼ í™•ì¸í•´ ë³¸ë‹¤.</p>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part2/Chapter4/2021-03-04-15-26-34.png" alt="" /></p>

<p><br /></p>

<p>ë¸Œë¼ìš°ì €ì— ì •ìƒì ìœ¼ë¡œ ë°ì´í„°ê°€ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸ í–ˆë‹¤ë©´ ë‹¤ìŒ ì‘ì—…ì€ ì •ìƒì ìœ¼ë¡œ í˜ì´ì§€ ì´ë™ì´ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  í™”ë©´ ì•„ë˜ìª½ì— í˜ì´ì§€ ì²˜ë¦¬ì™€ í´ë¦­ ì‹œ í˜ì´ì§€ì˜ ì´ë™ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.</p>

<ul>
  <li>/guestbook/list í˜¹ì€ /guestbook/list?page=1ì˜ ê²½ìš° ì•„ë˜ì™€ ê°™ì´ 1í˜ì´ì§€ê°€ ì¶œë ¥ëœë‹¤.</li>
  <li>/guestbook/list?page=2ì™€ ê°™ì´ í˜ì´ì§€ ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ë©´ í•´ë‹¹ í˜ì´ì§€ê°€ ë‚˜ì˜¨ë‹¤.</li>
</ul>

<p><img src="/images/Learning_SpringBoot_with_Web_Project/Part2/Chapter4/2021-03-04-15-30-50.png" alt="" /></p>

<p><br /></p>

<p>list.htmlì—ëŠ” ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì´ìš©í•´ì„œ í™”ë©´ì— í˜ì´ì§€ê°€ ì¶œë ¥ë˜ë„ë¡ ì¡°ì •í•©ë‹ˆë‹¤.</p>

<p><strong>list.html ì¼ë¶€</strong></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;/tbody&gt;</span>
        <span class="nt">&lt;/table&gt;</span>

        <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"pagination h-100 justify-content-center align-items-center"</span><span class="nt">&gt;</span>

            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"page-item "</span> <span class="na">th:if=</span><span class="s">"${result.prev}"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"page-link"</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">tabindex=</span><span class="s">"-1"</span><span class="nt">&gt;</span>Previous<span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;/li&gt;</span>

            <span class="nt">&lt;li</span> <span class="na">th:class=</span><span class="s">" 'page-item ' + ${result.page == page?'active':''} "</span> <span class="na">th:each=</span><span class="s">"page: ${result.pageList}"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"page-link"</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>[[${page}]]<span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;/li&gt;</span>

            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"page-item"</span> <span class="na">th:if=</span><span class="s">"${result.next}"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"page-link"</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>Next<span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;/li&gt;</span>

        <span class="nt">&lt;/ul&gt;</span>


    <span class="nt">&lt;/th:block&gt;</span>

<span class="nt">&lt;/th:block&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<blockquote>
  <h4 id="line-6-prev-ê°’ì´-trueì´ê¸°-ë•Œë¬¸ì—-í‘œì‹œëœë‹¤-"><strong>line 6:</strong> prev ê°’ì´ trueì´ê¸° ë•Œë¬¸ì— í‘œì‹œëœë‹¤. <br /></h4>
  <h4 id="line-10-resultpageëŠ”-í˜„ì¬-í˜ì´ì§€ë¥¼-ì˜ë¯¸í•œë‹¤-ì¦‰-pageresultdto-í´ë˜ìŠ¤ì˜-page-ë³€ìˆ˜ì´ë©°--pageì˜-pageëŠ”-urlì—ì„œ-ë„˜ê²¨ì¤€-page-íŒŒë¼ë¯¸í„°ì´ë‹¤-ì§€ê¸ˆ-eachë¡œ-ê°ê°-í˜ì´ì§€ë¥¼-ìˆœíšŒí•˜ê³ -ìˆëŠ”ë°-urlì—ì„œ-ë„˜ê²¨ì¤€-pageíŒŒë¼ë¯¸í„°ì™€-pagelistë¥¼-ìˆœíšŒí–ˆì„-ë•Œ-ê·¸ê²ƒê³¼-ê°™ìœ¼ë©´-í•´ë‹¹-í˜ì´ì§€ë¥¼-line-11ì—ì„œ-ë³´ì—¬ì¤€ë‹¤"><strong>line 10:</strong> result.pageëŠ” í˜„ì¬ í˜ì´ì§€ë¥¼ ì˜ë¯¸í•œë‹¤. ì¦‰ PageResultDTO í´ë˜ìŠ¤ì˜ page ë³€ìˆ˜ì´ë©° == pageì˜ pageëŠ” urlì—ì„œ ë„˜ê²¨ì¤€ page íŒŒë¼ë¯¸í„°ì´ë‹¤. ì§€ê¸ˆ eachë¡œ ê°ê° í˜ì´ì§€ë¥¼ ìˆœíšŒí•˜ê³  ìˆëŠ”ë° urlì—ì„œ ë„˜ê²¨ì¤€ pageíŒŒë¼ë¯¸í„°ì™€ pageListë¥¼ ìˆœíšŒí–ˆì„ ë•Œ ê·¸ê²ƒê³¼ ê°™ìœ¼ë©´ í•´ë‹¹ í˜ì´ì§€ë¥¼ line 11ì—ì„œ ë³´ì—¬ì¤€ë‹¤<br /></h4>
  <h4 id="line-"><strong>line:</strong> <br /></h4>
  <h4 id="line--1"><strong>line:</strong> <br /></h4>
</blockquote>
:ET